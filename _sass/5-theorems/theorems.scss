:root {
    // General layout vars (from your existing setup)
    --math-block-margin: 20px 0;
    --math-block-border-radius: 8px;
    --math-block-border-width: 2px;
    --math-block-font-family: 'Georgia', serif;

    // Padding for the new title and body structure
    --math-title-padding: 8px 12px;
    --math-body-padding: 12px;

    // Define a standard black color for body text
    --math-body-text-color-default: #000000; // Or a dark gray like #333333 if preferred

    // Store original color palette for reference or direct use
    --original-theorem-bg: #e6f7ff;
    --original-theorem-border: #91d5ff;
    --original-theorem-text: #0050b3;    

    --original-postulate-bg: #fffbe6;
    --original-postulate-border: #ffe58f;
    --original-postulate-text: #ad8b00;

    --original-corollary-bg: #f6ffed;
    --original-corollary-border: #b7eb8f;
    --original-corollary-text: #389e0d;

    --original-lemma-bg: #fff0f6;
    --original-lemma-border: #ffadd2;
    --original-lemma-text: #c41d7f;

    --original-axiom-bg: #f0f5ff;
    --original-axiom-border: #adc6ff;
    --original-axiom-text: #1d39c4;

    --original-definition-bg: #e6fffb;
    --original-definition-border: #87e8de;
    --original-definition-text: #006d75;

    --original-proof-bg: #e8f5e9;         // Very Light Yellow
    --original-proof-border: #81c784;     // Medium Amber
    --original-proof-text: #2e7d32;       // Dark Amber/Orange
    --original-proof-qed-color: #2e7d32;  // QED to match new proof text color


    // New color variable structure
    // Title text color will be the same as the body background color.
    // Body text color is now always black (or a dark default).

    // Theorem
    --theorem-title-bg: var(--original-theorem-text);
    --theorem-title-text: var(--original-theorem-bg);
    --theorem-body-bg: var(--original-theorem-bg);
    // --theorem-body-text: var(--original-theorem-text); // No longer used for body text color
    --theorem-outer-border: var(--original-theorem-border);

    // Postulate
    --postulate-title-bg: var(--original-postulate-text);
    --postulate-title-text: var(--original-postulate-bg);
    --postulate-body-bg: var(--original-postulate-bg);
    // --postulate-body-text: var(--original-postulate-text); // No longer used
    --postulate-outer-border: var(--original-postulate-border);

    // Corollary
    --corollary-title-bg: var(--original-corollary-text);
    --corollary-title-text: var(--original-corollary-bg);
    --corollary-body-bg: var(--original-corollary-bg);
    // --corollary-body-text: var(--original-corollary-text); // No longer used
    --corollary-outer-border: var(--original-corollary-border);

    // Lemma
    --lemma-title-bg: var(--original-lemma-text);
    --lemma-title-text: var(--original-lemma-bg);
    --lemma-body-bg: var(--original-lemma-bg);
    // --lemma-body-text: var(--original-lemma-text); // No longer used
    --lemma-outer-border: var(--original-lemma-border);

    // Axiom
    --axiom-title-bg: var(--original-axiom-text);
    --axiom-title-text: var(--original-axiom-bg);
    --axiom-body-bg: var(--original-axiom-bg);
    // --axiom-body-text: var(--original-axiom-text); // No longer used
    --axiom-outer-border: var(--original-axiom-border);

    // Definition
    --definition-title-bg: var(--original-definition-text);
    --definition-title-text: var(--original-definition-bg);
    --definition-body-bg: var(--original-definition-bg);
    // --definition-body-text: var(--original-definition-text); // No longer used
    --definition-outer-border: var(--original-definition-border);

    // Proof
    --proof-title-bg: var(--original-proof-text);
    --proof-title-text: var(--original-proof-bg);
    --proof-body-bg: var(--original-proof-bg);
    // --proof-body-text: var(--original-proof-text); // No longer used
    --proof-outer-border: var(--original-proof-border);
    --proof-qed-color: var(--original-proof-qed-color);
}

/* General Math Block Styling */
.math-block {
    margin: var(--math-block-margin);
    border-radius: var(--math-block-border-radius);
    // border-style: solid; /* This is the outer border */
    border-width: var(--math-block-border-width); /* This is the outer border */
    font-family: var(--math-block-font-family);
    position: relative;
    overflow: hidden;
}

.math-block-title {
    padding: var(--math-title-padding);
    font-weight: bold;
    display: block;
}

.proof .math-block-title {
    font-style: italic;
}

.math-block-body {
    padding: var(--math-body-padding);
    line-height: 1.6;
    color: var(--math-body-text-color-default); /* Body text is now always this color */
    /* The .math-block-body itself does not have a border */
}

/* QED symbol for proofs */
.proof .math-block-body::after {
    content: "â–¡";
    font-weight: bold;
    color: var(--proof-qed-color);
    position: absolute;
    right: var(--math-body-padding);
    bottom: var(--math-body-padding);
    font-size: 1.2em;
}

/* Adjust proof body padding to make space for QED symbol */
.proof .math-block-body {
    padding-bottom: calc(var(--math-body-padding) + 1.5em);
}

/* Apply specific colors per type */
/* The outer border is set on .math-block directly. */
/* Title and Body backgrounds and Title text color are set here. */
/* Body text color is now globally set to --math-body-text-color-default. */

.theorem {
    border-color: var(--theorem-outer-border);
    .math-block-title {
        background-color: var(--theorem-title-bg);
        color: var(--theorem-title-text);
    }
    .math-block-body {
        background-color: var(--theorem-body-bg);
        /* color: var(--theorem-body-text); // This line is removed */
    }
}

.postulate {
    border-color: var(--postulate-outer-border);
    .math-block-title {
        background-color: var(--postulate-title-bg);
        color: var(--postulate-title-text);
    }
    .math-block-body {
        background-color: var(--postulate-body-bg);
    }
}

.corollary {
    border-color: var(--corollary-outer-border);
    .math-block-title {
        background-color: var(--corollary-title-bg);
        color: var(--corollary-title-text);
    }
    .math-block-body {
        background-color: var(--corollary-body-bg);
    }
}

.lemma {
    border-color: var(--lemma-outer-border);
    .math-block-title {
        background-color: var(--lemma-title-bg);
        color: var(--lemma-title-text);
    }
    .math-block-body {
        background-color: var(--lemma-body-bg);
    }
}

.axiom {
    border-color: var(--axiom-outer-border);
    .math-block-title {
        background-color: var(--axiom-title-bg);
        color: var(--axiom-title-text);
    }
    .math-block-body {
        background-color: var(--axiom-body-bg);
    }
}

.definition {
    border-color: var(--definition-outer-border);
    .math-block-title {
        background-color: var(--definition-title-bg);
        color: var(--definition-title-text);
    }
    .math-block-body {
        background-color: var(--definition-body-bg);
    }
}

.proof {
    border-color: var(--proof-outer-border);
    .math-block-title {
        background-color: var(--proof-title-bg);
        color: var(--proof-title-text);
    }
    .math-block-body {
        background-color: var(--proof-body-bg);
        /* QED symbol color is handled by --proof-qed-color */
    }
}